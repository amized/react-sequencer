{"version":3,"sources":["webpack://react-sequencer/webpack/universalModuleDefinition","webpack://react-sequencer/webpack/bootstrap","webpack://react-sequencer/./src/manager.js","webpack://react-sequencer/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://react-sequencer/external \"prop-types\"","webpack://react-sequencer/./src/transition.js","webpack://react-sequencer/./src/constants.js","webpack://react-sequencer/./src/sequencer.js","webpack://react-sequencer/./src/with-sequencer.js","webpack://react-sequencer/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","onNextTick","cancelNextTick","_sequencer","_interopRequireDefault","requestAnimationFrame","cancelAnimationFrame","setTimeout","Error","func","clearTimeout","Manager","_this","this","_classCallCheck","startLoop","isLooping","now","Date","requestID","_onLoop","stopLoop","continueLoop","sequencers","seq","isPlaying","keys","options","_this2","default","getNewKey","play","complete","stop","pause","onChange","getState","_react","_propTypes","_manager","Transition","props","_possibleConstructorReturn","__proto__","getPrototypeOf","handleInSeqChange","setState","current","exitComplete","handleOutSeqChange","isComplete","inSeq","createSequencer","steps","inSteps","outSteps","outSeq","in","runOnMount","state","PureComponent","nextProps","_this$props","children","unmountOnExit","show","_this$state","propTypes","bool","array","isRequired","defaultProps","_constants","Sequencer","currentStep","_getStep","currentTimeIn","startedAt","endPos","length","loop","status","STATUS_COMPLETE","_notifyChange","fn","subscriptions","push","STATUS_PLAYING","STATUS_IDLE","index","assign","_generateSteps","stepsInput","Array","isArray","prev","map","step","startPos","stepId","forEach","shouldPlayOnUpdate","shouldStopOnUpdate","shouldCompleteOnUpdate","Component","_temp","_initialiseProps","_React$Component","SequencerWrapper","sequencer","api","sequencerState","handleChange","_inherits","_createClass","childProps","createElement","_withSequencer","_transition"],"mappings":"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","file":"react-sequencer.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"react-sequencer\", [\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-sequencer\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"react-sequencer\"] = factory(root[\"React\"], root[\"prop-types\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","import Sequencer from './sequencer';\n\nlet onNextTick, cancelNextTick;\n\nif (typeof window !== 'undefined' && typeof window.requestAnimationFrame === 'function') {\n  onNextTick = window.requestAnimationFrame;\n  cancelNextTick = window.cancelAnimationFrame;\n} else if (typeof setTimeout === 'function') {\n  onNextTick = func => setTimeout(func, 1);\n  cancelNextTick = clearTimeout;\n} else {\n  throw new Error(\n    'React sequencer depends on requestAnimationFrame, please use a polyfill if not available in the browser.'\n  );\n}\n\nclass Manager {\n  constructor() {\n    this.keys = 0;\n    this.sequencers = {};\n    this.now = Date.now();\n    this.isLooping = false;\n  }\n\n  createSequencer(options) {\n    const seq = new Sequencer(options);\n    const key = this.getNewKey();\n    this.sequencers[key] = seq;\n    const api = {\n      play: () => { this.play(seq); },\n      complete: seq.complete,\n      stop: seq.stop,\n      pause: seq.pause,\n      onChange: seq.onChange,\n      getState: seq.getState\n    };\n    return api;\n  }\n\n  getNewKey() {\n    return this.keys++;\n  }\n\n  play(seq) {\n    this.startLoop();\n    seq.play(this.now);\n  }\n\n  startLoop = () => {\n    if (!this.isLooping) {\n      this.isLooping = true;\n      this.now = Date.now();\n      this.requestID = onNextTick(this._onLoop);\n    }\n  }\n\n  stopLoop = () => {\n    if (this.isLooping) {\n      this.isLooping = false;\n      cancelNextTick(this.requestID);\n    }\n  }\n\n  _onLoop = () => {\n    this.now = Date.now();\n    let continueLoop = false;\n    for (let key in this.sequencers) {\n      const seq = this.sequencers[key];\n      if (seq.isPlaying()) {\n        seq._onLoop(this.now);\n        continueLoop = true;\n      }\n    }\n\n    if (continueLoop) {\n      this.requestID = onNextTick(this._onLoop);\n    } else {\n      this.stopLoop();\n    }\n  }\n}\n\nconst manager = new Manager();\n\nexport default manager;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport manager from './manager';\n\nclass Transition extends React.PureComponent {\n  static propTypes = {\n    /** Toggles the component in and out. */\n    in: PropTypes.bool,\n    /** Sequence to perform when in becomes true. */\n    inSteps: PropTypes.array.isRequired,\n    /** Sequence to perform when in becomes false. */\n    outSteps: PropTypes.array,\n    /** Whether or not to run the 'in' sequence when the component mounts. */\n    unmountOnExit: PropTypes.bool,\n    /** If set to true, the child element is removed from the dom when\n     * the out sequence gets to a completed state. Note that your\n     * component will remain mounted for the duration of the last\n     * step before unmounting. */\n    runOnMount: PropTypes.bool\n  }\n\n  static defaultProps = {\n    in: false,\n    unmountOnExit: false,\n    runOnMount: false,\n    outSteps: null\n  }\n\n  constructor(props) {\n    super(props);\n    let current = null;\n    this.inSeq = manager.createSequencer({\n      steps: props.inSteps\n    });\n\n    if (props.outSteps) {\n      this.outSeq = manager.createSequencer({\n        steps: props.outSteps\n      });\n    }\n\n    switch (true) {\n      case props.in && props.runOnMount: {\n        this.inSeq.stop();\n        current = this.inSeq.getState().current;\n        break;\n      }\n      case !props.in: {\n        if (this.outSeq) {\n          this.outSeq.complete();\n          current = this.outSeq.getState().current;\n        } else {\n          this.inSeq.stop();\n          current = this.inSeq.getState().current;\n        }\n        break;\n      }\n      default: {\n        this.inSeq.complete();\n        current = this.inSeq.getState().current;\n      }\n    }\n\n    this.state = {\n      current,\n      exitComplete: !props.in\n    };\n\n    this.inSeq.onChange(this.handleInSeqChange);\n    if (this.outSeq) {\n      this.outSeq.onChange(this.handleOutSeqChange);\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.in && this.props.runOnMount) {\n      this.inSeq.play();\n    }\n  }\n\n  componentWillUnmount() {\n    this.inSeq.stop();\n    this.inSeq = null;\n    if (this.outSeq) {\n      this.outSeq.stop();\n      this.outSeq = null;\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.in && !nextProps.in) {\n      this.inSeq.stop();\n      if (this.outSeq) {\n        this.outSeq.play();\n      }\n    } else if (!this.props.in && nextProps.in) {\n      if (this.outSeq) {\n        this.outSeq.stop();\n      }\n      this.inSeq.play();\n    }\n  }\n\n  handleInSeqChange = seq => {\n    this.setState({\n      current: seq.current,\n      exitComplete: false\n    });\n  }\n\n  handleOutSeqChange = seq => {\n    this.setState({\n      current: seq.current,\n      exitComplete: seq.isComplete\n    });\n  }\n\n  render() {\n    const {children, unmountOnExit} = this.props;\n    const show = this.props.in;\n    const {current, exitComplete} = this.state;\n\n    if (unmountOnExit && show === false && exitComplete === true) {\n      return null;\n    }\n\n    if (!children) {\n      return null;\n    }\n\n    if (typeof children !== 'function') {\n      throw new Error('Child passed into Transition must be a function');\n    }\n\n    return children(current);\n  }\n}\n\nexport default Transition;\n","export const STATUS_IDLE = 'sequencer/STATUS_IDLE';\nexport const STATUS_PLAYING = 'sequencer/STATUS_PLAYING';\nexport const STATUS_COMPLETE = 'sequencer/STATUS_COMPLETE';\n","import {\n  STATUS_IDLE,\n  STATUS_PLAYING,\n  STATUS_COMPLETE\n} from './constants';\n\nclass Sequencer {\n  constructor(props) {\n    const defaults = {\n      steps: [],\n      loop: false,\n      complete: false\n    };\n    const options = Object.assign(defaults, props);\n    this.steps = this._generateSteps(options.steps);\n    this.currentStep = 0;\n    this.currentTimeIn = 0;\n    this.loop = options.loop;\n    this.status = STATUS_IDLE;\n    this.requestID = null;\n    this.subscriptions = [];\n\n    if (options.complete === true) {\n      this.complete();\n    }\n  }\n\n  _generateSteps(stepsInput) {\n    if (!stepsInput || !Array.isArray(stepsInput)) {\n      throw new Error('Invalid format.');\n    }\n\n    let prev = 0;\n\n    const steps = stepsInput.map(step => {\n      if (\n        !Array.isArray(step) ||\n        step.length !== 2 ||\n        (typeof step[0] !== 'string' && typeof step[1] !== 'number')\n      ) {\n        throw new Error('Invalid format. See docs for correct structure.');\n      }\n\n      const startPos = prev;\n      const endPos = step[1] + prev;\n      prev = endPos;\n      return {\n        startPos,\n        endPos,\n        name: step[0]\n      };\n    });\n\n    return steps;\n  }\n\n  _getStep(stepId) {\n    return this.steps[stepId];\n  }\n\n  _onLoop = (now) => {\n    const currentStep = this._getStep(this.currentStep);\n    const currentTimeIn = this.currentTimeIn = now - this.startedAt;\n    const completesAt = currentStep.endPos;\n\n    if (currentTimeIn >= completesAt) {\n      if (this.currentStep === this.steps.length - 1) {\n        if (this.loop) {\n          this.currentStep = 0;\n          this.currentTimeIn = 0;\n          this.startedAt = now;\n        } else {\n          this.status = STATUS_COMPLETE;\n        }\n      } else {\n        this.currentStep++;\n      }\n      this._notifyChange();\n    }\n  }\n\n  _notifyChange() {\n    const state = this.getState();\n\n    this.subscriptions.forEach(fn => { fn(state); });\n  }\n\n  onChange = (fn) => {\n    this.subscriptions.push(fn);\n  }\n\n  play = (now) => {\n    if (this.status === STATUS_PLAYING) {\n      return;\n    }\n    if (this.isComplete()) {\n      this.currentStep = 0;\n      this.currentTimeIn = 0;\n    }\n    this.startedAt = now - this.currentTimeIn;\n    this.status = STATUS_PLAYING;\n    this._notifyChange();\n  }\n\n  pause = () => {\n    if (this.status !== STATUS_IDLE) {\n      this.status = STATUS_IDLE;\n      this._notifyChange();\n    }\n  }\n\n  stop = () => {\n    if (this.status !== STATUS_IDLE) {\n      this.currentStep = 0;\n      this.currentTimeIn = 0;\n      this.status = STATUS_IDLE;\n      this._notifyChange();\n    }\n  }\n\n  complete = () => {\n    if (this.status !== STATUS_COMPLETE) {\n      this.currentStep = this.steps.length - 1;\n      this.status = STATUS_COMPLETE;\n      this._notifyChange();\n    }\n  }\n\n  isComplete = () => {\n    return this.status === STATUS_COMPLETE;\n  }\n\n  isPlaying = () => {\n    return this.status === STATUS_PLAYING;\n  }\n\n  getState = () => {\n    const state = {\n      current: this.steps[this.currentStep].name,\n      index: this.currentStep,\n      isPlaying: this.isPlaying(),\n      isComplete: this.isComplete()\n    };\n\n    return state;\n  }\n}\n\nexport default Sequencer;\n","import React from 'react';\nimport manager from './manager';\n\nconst withSequencer = function (options) {\n\n  const {\n    steps,\n    loop,\n    complete,\n    shouldPlayOnUpdate,\n    shouldStopOnUpdate,\n    shouldCompleteOnUpdate\n  } = options;\n\n  if (!options.steps) {\n    throw new Error('Missing steps configuration in withSequencer');\n  }\n\n  return function (Component) {\n    return class SequencerWrapper extends React.Component {\n      constructor(props) {\n        super(props);\n        this.sequencer = props.sequencer ? props.sequencer : manager.createSequencer({steps, loop, complete});\n        this.api = {\n          play: this.sequencer.play,\n          stop: this.sequencer.stop,\n          pause: this.sequencer.pause,\n          complete: this.sequencer.complete\n        };\n        const sequencerState = this.sequencer.getState();\n        this.state = {\n          sequencer: Object.assign(sequencerState, this.api)\n        };\n        this.sequencer.onChange(this.handleChange);\n      }\n\n      componentWillReceiveProps(nextProps) {\n        if (shouldCompleteOnUpdate && shouldCompleteOnUpdate(this.props, nextProps)) {\n          this.sequencer.complete();\n        }\n        if (shouldStopOnUpdate && shouldStopOnUpdate(this.props, nextProps)) {\n          this.sequencer.stop();\n        }\n        if (shouldPlayOnUpdate && shouldPlayOnUpdate(this.props, nextProps)) {\n          this.sequencer.play();\n        }\n      }\n\n      handleChange = props => {\n        const sequencer = Object.assign(props, this.api);\n        this.setState({\n          sequencer: sequencer\n        });\n      }\n\n      render() {\n        const childProps = Object.assign({}, this.props, {\n          sequencer: this.state.sequencer\n        });\n        return (\n          <Component {...childProps}/>\n        );\n      }\n    };\n  };\n};\n\nexport default withSequencer;\n","export {default as withSequencer} from './with-sequencer';\nexport {default as Transition} from './transition';\n"],"sourceRoot":""}